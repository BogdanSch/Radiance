!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=13)}([function(e,t,i){"use strict";var r=function(e){var t=window.unsplash;if(void 0!==t)return t[e]},n=i(2),o=i.n(n),a=i(1);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){o()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c=window.getUserSetting,u=function(e){var t=[],i=[];return e.filter((function(e){return y(e)})).forEach((function(e){t.push(d(e)),i.push(m(e))})),Promise.all(i),Promise.all(t)},d=function(e){var t=e.attributes,i=t.id,n=t.alt,o=t.title,s=t.description,c=t.caption,u=r("route")+"/import/".concat(i),d=r("route")+"/post-process/",m={alt:n,title:o,description:s,caption:c,parent:r("postId")};return wp.apiRequest({url:u,data:m,type:"POST"}).done((function(t){return e.set(l(l({},e.attributes),{id:t.id,url:t.source_url,nonces:t.nonces})),p({url:Object(a.addQueryArgs)(d+t.id,{retry:0}),retries:5,retryInterval:500,type:"POST"}),t})).fail((function(t){return jQuery.Deferred().reject(l(l({},t),{image:e}))}))},p=function e(t){t.counter||(t.counter=0);return wp.apiRequest(t).fail((function(){t.counter++<t.retries&&setTimeout((function(){return e(l(l({},t),{},{url:Object(a.addQueryArgs)(t.url,{retry:t.counter})}))}),t.retryInterval)}))},m=function(e){var t=wp.media.view.settings.defaultProps,i=c("imgsize",t.size)||"medium",r=e.attributes.sizes;return r&&r[i]&&r[i].url?g(r[i].url):null},h=function(e){return e&&["insert","featured-image","library","replace-image"].includes(e)},f=function(e){return(e=Array.isArray(e)?e:[e]).includes("image")},y=function(e){return e.attributes&&void 0!==e.attributes.unsplash_order&&"string"==typeof e.attributes.id},g=function(e){return new Promise((function(t,i){var r=new window.Image;r.onload=function(){return t(r)},r.onerror=i,r.decoding="async",r.src=e}))};i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return u})),i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return f})),i.d(t,"e",(function(){return y})),i.d(t,"f",(function(){return g}))},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t,i){"use strict";var r,n=i(1),o=i(0),a=wp.media.model.Query.extend({initialize:function(){wp.media.model.Query.prototype.initialize.apply(this,arguments),this._respSuccess=!0,this._respErrorMessage={}},sync:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("read"===e){var r=Object(o.a)("route"),a=_.clone(this.args);return-1!==a.posts_per_page&&(a.paged=Math.round(this.length/a.posts_per_page)+1),i.context=this,i.type="GET",i.url=a.s?Object(n.addQueryArgs)("".concat(r),{search:a.s}):r,i.data={page:a.paged,per_page:a.posts_per_page},wp.apiRequest(i)}var s=l.prototype.sync?l.prototype:Backbone;return s.sync.apply(this,arguments)},respSuccess:function(){return this._respSuccess},respErrorMessage:function(){return this._respErrorMessage},more:function(e){var t=this;return this._more&&"pending"===this._more.state()?this._more:this.hasMore()?((e=e||{}).remove=!1,this._more=this.fetch(e).done((function(e){if((_.isEmpty(e)||-1===this.args.posts_per_page||e.length<this.args.posts_per_page)&&(t._hasMore=!1),!1===e.success){t._hasMore=!1,t._respSuccess=e.success;var i=e.data.shift();this._respErrorMessage=i}else e.length&&e.forEach((function(e){var t=e.sizes;t&&t.medium&&t.medium.url&&Object(o.f)(t.medium.url)}))}))):jQuery.Deferred().resolveWith(this).promise()}},{defaultProps:{orderby:"unsplash_order",order:"ASC"},defaultArgs:{posts_per_page:30},get:(r=[],function(e,t){var i,n={},o=!!e.cache||void 0===e.cache;return delete e.query,delete e.cache,_.defaults(e,a.defaultProps),_.each(e,(function(e,t){_.isNull(e)||(n[a.propmap[t]||t]=e)})),_.defaults(n,a.defaultArgs),o?i=_.find(r,(function(e){return _.isEqual(e.args,n)})):r=[],i||(i=new a([],_.extend(t||{},{props:e,args:n})),r.push(i)),i})}),s=a,l=wp.media.model.Attachments.extend({_requery:function(e){if(this.props.get("query")){var t=this.props.toJSON();t.cache=!0!==e,this.mirror(s.get(t))}},mirror:function(e){return this.mirroring&&this.mirroring===e||(this.unmirror(),this.mirroring=e,this.reset([],{silent:!0}),this.observe(e),this.trigger("attachments:received",this)),this},more:function(e){var t=this,i=jQuery.Deferred(),r=this.mirroring,n=this;return r&&r.more?(r.more(e).done((function(){i.resolveWith(t),n.trigger("attachments:received",t)})),i.promise()):i.resolveWith(this).promise()},respSuccess:function(){return!this.mirroring||this.mirroring.respSuccess()},respErrorMessage:function(){return this.mirroring?this.mirroring.respErrorMessage():{}}}),c=wp.media.controller.State,u=c.extend({defaults:{id:"unsplash",toolbar:"unsplash",title:Object(o.a)("tabTitle"),content:"unsplash",menu:"unsplash",router:!1,priority:-60,filterable:"uploaded",multiple:"add",editable:!1},initialize:function(){var e,t=this.get("selection");this.get("library")||this.set("library",new l(null,{props:{orderby:"unsplash_order",order:"ASC",query:!0}})),t instanceof wp.media.model.Selection||((e=t)||(e=this.get("library").props.toJSON(),e=_.omit(e,"orderby","query")),this.set("selection",new wp.media.model.Selection(null,{multiple:this.get("multiple"),props:e}))),c.prototype.initialize.apply(this,arguments)}});t.a=u},function(e,t,i){e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,i=Object.isFrozen,r=Object.keys,n=Object.freeze,o=Object.seal,a="undefined"!=typeof Reflect&&Reflect,s=a.apply,l=a.construct;s||(s=function(e,t,i){return e.apply(t,i)}),n||(n=function(e){return e}),o||(o=function(e){return e}),l||(l=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))))});var c=T(Array.prototype.forEach),u=T(Array.prototype.indexOf),d=T(Array.prototype.join),p=T(Array.prototype.pop),m=T(Array.prototype.push),h=T(Array.prototype.slice),f=T(String.prototype.toLowerCase),y=T(String.prototype.match),g=T(String.prototype.replace),v=T(String.prototype.indexOf),w=T(String.prototype.trim),b=T(RegExp.prototype.test),E=S(RegExp),A=S(TypeError);function T(e){return function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return s(e,t,r)}}function S(e){return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return l(e,i)}}function _(e,r){t&&t(e,null);for(var n=r.length;n--;){var o=r[n];if("string"==typeof o){var a=f(o);a!==o&&(i(r)||(r[n]=a),o=a)}e[o]=!0}return e}function O(t){var i={},r=void 0;for(r in t)s(e,t,[r])&&(i[r]=t[r]);return i}var x=n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),L=n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N=n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),C=n(["#text"]),I=n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),k=n(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=o(/\{\{[\s\S]*|[\s\S]*\}\}/gm),F=o(/<%[\s\S]*|[\s\S]*%>/gm),P=o(/^data-[\-\w.\u00B7-\uFFFF]/),z=o(/^aria-[\-\w]+$/),H=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=o(/^(?:\w+script|data):/i),U=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function $(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var W=function(){return"undefined"==typeof window?null:window},G=function(e,t){if("object"!==(void 0===e?"undefined":V(e))||"function"!=typeof e.createPolicy)return null;var i=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(i=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W(),i=function(t){return e(t)};if(i.version="2.0.12",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;var o=t.document,a=!1,s=t.document,l=t.DocumentFragment,T=t.HTMLTemplateElement,S=t.Node,B=t.NodeFilter,Q=t.NamedNodeMap,J=void 0===Q?t.NamedNodeMap||t.MozNamedAttrMap:Q,Z=t.Text,K=t.Comment,Y=t.DOMParser,X=t.trustedTypes;if("function"==typeof T){var ee=s.createElement("template");ee.content&&ee.content.ownerDocument&&(s=ee.content.ownerDocument)}var te=G(X,o),ie=te&&De?te.createHTML(""):"",re=s,ne=re.implementation,oe=re.createNodeIterator,ae=re.getElementsByTagName,se=re.createDocumentFragment,le=o.importNode,ce={};i.isSupported=ne&&void 0!==ne.createHTMLDocument&&9!==s.documentMode;var ue=j,de=F,pe=P,me=z,he=q,fe=U,ye=H,ge=null,ve=_({},[].concat($(x),$(M),$(L),$(N),$(C))),we=null,be=_({},[].concat($(I),$(k),$(D),$(R))),Ee=null,Ae=null,Te=!0,Se=!0,_e=!1,Oe=!1,xe=!1,Me=!1,Le=!1,Ne=!1,Ce=!1,Ie=!1,ke=!1,De=!1,Re=!0,je=!0,Fe=!1,Pe={},ze=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),He=null,qe=_({},["audio","video","img","source","image","track"]),Ue=null,Ve=_({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),$e=null,We=s.createElement("form"),Ge=function(e){$e&&$e===e||(e&&"object"===(void 0===e?"undefined":V(e))||(e={}),ge="ALLOWED_TAGS"in e?_({},e.ALLOWED_TAGS):ve,we="ALLOWED_ATTR"in e?_({},e.ALLOWED_ATTR):be,Ue="ADD_URI_SAFE_ATTR"in e?_(O(Ve),e.ADD_URI_SAFE_ATTR):Ve,He="ADD_DATA_URI_TAGS"in e?_(O(qe),e.ADD_DATA_URI_TAGS):qe,Ee="FORBID_TAGS"in e?_({},e.FORBID_TAGS):{},Ae="FORBID_ATTR"in e?_({},e.FORBID_ATTR):{},Pe="USE_PROFILES"in e&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Se=!1!==e.ALLOW_DATA_ATTR,_e=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=e.SAFE_FOR_JQUERY||!1,xe=e.SAFE_FOR_TEMPLATES||!1,Me=e.WHOLE_DOCUMENT||!1,Ce=e.RETURN_DOM||!1,Ie=e.RETURN_DOM_FRAGMENT||!1,ke=e.RETURN_DOM_IMPORT||!1,De=e.RETURN_TRUSTED_TYPE||!1,Ne=e.FORCE_BODY||!1,Re=!1!==e.SANITIZE_DOM,je=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,ye=e.ALLOWED_URI_REGEXP||ye,xe&&(Se=!1),Ie&&(Ce=!0),Pe&&(ge=_({},[].concat($(C))),we=[],!0===Pe.html&&(_(ge,x),_(we,I)),!0===Pe.svg&&(_(ge,M),_(we,k),_(we,R)),!0===Pe.svgFilters&&(_(ge,L),_(we,k),_(we,R)),!0===Pe.mathMl&&(_(ge,N),_(we,D),_(we,R))),e.ADD_TAGS&&(ge===ve&&(ge=O(ge)),_(ge,e.ADD_TAGS)),e.ADD_ATTR&&(we===be&&(we=O(we)),_(we,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&_(Ue,e.ADD_URI_SAFE_ATTR),je&&(ge["#text"]=!0),Me&&_(ge,["html","head","body"]),ge.table&&(_(ge,["tbody"]),delete Ee.tbody),n&&n(e),$e=e)},Be=function(e){m(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=ie}},Qe=function(e,t){try{m(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){m(i.removed,{attribute:null,from:t})}t.removeAttribute(e)},Je=function(e){var t=void 0,i=void 0;if(Ne)e="<remove></remove>"+e;else{var r=y(e,/^[\r\n\t ]+/);i=r&&r[0]}var n=te?te.createHTML(e):e;try{t=(new Y).parseFromString(n,"text/html")}catch(e){}if(a&&_(Ee,["title"]),!t||!t.documentElement){var o=(t=ne.createHTMLDocument("")).body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=n}return e&&i&&t.body.insertBefore(s.createTextNode(i),t.body.childNodes[0]||null),ae.call(t,Me?"html":"body")[0]};i.isSupported&&function(){try{var e=Je("<x/><title>&lt;/title&gt;&lt;img&gt;");b(/<\/title/,e.querySelector("title").innerHTML)&&(a=!0)}catch(e){}}();var Ze=function(e){return oe.call(e.ownerDocument||e,e,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT,(function(){return B.FILTER_ACCEPT}),!1)},Ke=function(e){return!(e instanceof Z||e instanceof K||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof J&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Ye=function(e){return"object"===(void 0===S?"undefined":V(S))?e instanceof S:e&&"object"===(void 0===e?"undefined":V(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Xe=function(e,t,r){ce[e]&&c(ce[e],(function(e){e.call(i,t,r,$e)}))},et=function(e){var t=void 0;if(Xe("beforeSanitizeElements",e,null),Ke(e))return Be(e),!0;var r=f(e.nodeName);if(Xe("uponSanitizeElement",e,{tagName:r,allowedTags:ge}),("svg"===r||"math"===r)&&0!==e.querySelectorAll("p, br").length)return Be(e),!0;if(!ge[r]||Ee[r]){if(je&&!ze[r]&&"function"==typeof e.insertAdjacentHTML)try{var n=e.innerHTML;e.insertAdjacentHTML("AfterEnd",te?te.createHTML(n):n)}catch(e){}return Be(e),!0}return"noscript"===r&&b(/<\/noscript/i,e.innerHTML)||"noembed"===r&&b(/<\/noembed/i,e.innerHTML)?(Be(e),!0):(!Oe||e.firstElementChild||e.content&&e.content.firstElementChild||!b(/</g,e.textContent)||(m(i.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=g(e.innerHTML,/</g,"&lt;"):e.innerHTML=g(e.textContent,/</g,"&lt;")),xe&&3===e.nodeType&&(t=e.textContent,t=g(t,ue," "),t=g(t,de," "),e.textContent!==t&&(m(i.removed,{element:e.cloneNode()}),e.textContent=t)),Xe("afterSanitizeElements",e,null),!1)},tt=function(e,t,i){if(Re&&("id"===t||"name"===t)&&(i in s||i in We))return!1;if(Se&&b(pe,t));else if(Te&&b(me,t));else{if(!we[t]||Ae[t])return!1;if(Ue[t]);else if(b(ye,g(i,fe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(i,"data:")||!He[e])if(_e&&!b(he,g(i,fe,"")));else if(i)return!1}return!0},it=function(e){var t=void 0,n=void 0,o=void 0,a=void 0,s=void 0;Xe("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we};for(s=l.length;s--;){var m=t=l[s],y=m.name,v=m.namespaceURI;if(n=w(t.value),o=f(y),c.attrName=o,c.attrValue=n,c.keepAttr=!0,c.forceKeepAttr=void 0,Xe("uponSanitizeAttribute",e,c),n=c.attrValue,!c.forceKeepAttr){if("name"===o&&"IMG"===e.nodeName&&l.id)a=l.id,l=h(l,[]),Qe("id",e),Qe(y,e),u(l,a)>s&&e.setAttribute("id",a.value);else{if("INPUT"===e.nodeName&&"type"===o&&"file"===n&&c.keepAttr&&(we[o]||!Ae[o]))continue;"id"===y&&e.setAttribute(y,""),Qe(y,e)}if(c.keepAttr)if(Oe&&b(/\/>/i,n))Qe(y,e);else if(b(/svg|math/i,e.namespaceURI)&&b(E("</("+d(r(ze),"|")+")","i"),n))Qe(y,e);else{xe&&(n=g(n,ue," "),n=g(n,de," "));var A=e.nodeName.toLowerCase();if(tt(A,o,n))try{v?e.setAttributeNS(v,y,n):e.setAttribute(y,n),p(i.removed)}catch(e){}}}}Xe("afterSanitizeAttributes",e,null)}},rt=function e(t){var i=void 0,r=Ze(t);for(Xe("beforeSanitizeShadowDOM",t,null);i=r.nextNode();)Xe("uponSanitizeShadowNode",i,null),et(i)||(i.content instanceof l&&e(i.content),it(i));Xe("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(e,r){var n=void 0,a=void 0,s=void 0,c=void 0,u=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Ye(e)){if("function"!=typeof e.toString)throw A("toString is not a function");if("string"!=typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!i.isSupported){if("object"===V(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Ye(e))return t.toStaticHTML(e.outerHTML)}return e}if(Le||Ge(r),i.removed=[],"string"==typeof e&&(Fe=!1),Fe);else if(e instanceof S)1===(a=(n=Je("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!Ce&&!xe&&!Me&&-1===e.indexOf("<"))return te&&De?te.createHTML(e):e;if(!(n=Je(e)))return Ce?null:ie}n&&Ne&&Be(n.firstChild);for(var d=Ze(Fe?e:n);s=d.nextNode();)3===s.nodeType&&s===c||et(s)||(s.content instanceof l&&rt(s.content),it(s),c=s);if(c=null,Fe)return e;if(Ce){if(Ie)for(u=se.call(n.ownerDocument);n.firstChild;)u.appendChild(n.firstChild);else u=n;return ke&&(u=le.call(o,u,!0)),u}var p=Me?n.outerHTML:n.innerHTML;return xe&&(p=g(p,ue," "),p=g(p,de," ")),te&&De?te.createHTML(p):p},i.setConfig=function(e){Ge(e),Le=!0},i.clearConfig=function(){$e=null,Le=!1},i.isValidAttribute=function(e,t,i){$e||Ge({});var r=f(e),n=f(t);return tt(r,n,i)},i.addHook=function(e,t){"function"==typeof t&&(ce[e]=ce[e]||[],m(ce[e],t))},i.removeHook=function(e){ce[e]&&p(ce[e])},i.removeHooks=function(e){ce[e]&&(ce[e]=[])},i.removeAllHooks=function(){ce={}},i}()}()},,function(e,t,i){e.exports=function(){"use strict";function e(e,t){for(var i=e.length,r=i,n=[];i--;)n.push(t(e[r-i-1]));return n}function t(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(window.Promise)return v(e,t,i);e.recalculate(!0,!0)}function i(e){var t=e.useContainerForBreakpoints?e.container.clientWidth:window.innerWidth,i={columns:e.columns};E(e.margin)?i.margin={x:e.margin.x,y:e.margin.y}:i.margin={x:e.margin,y:e.margin};var r=Object.keys(e.breakAt);return e.mobileFirst?function(e){for(var t=e.options,i=e.responsiveOptions,r=e.keys,n=e.docWidth,o=void 0,a=0;a<r.length;a++){var s=parseInt(r[a],10);n>=s&&(o=t.breakAt[s],A(o,i))}return i}({options:e,responsiveOptions:i,keys:r,docWidth:t}):function(e){for(var t=e.options,i=e.responsiveOptions,r=e.keys,n=e.docWidth,o=void 0,a=r.length-1;a>=0;a--){var s=parseInt(r[a],10);n<=s&&(o=t.breakAt[s],A(o,i))}return i}({options:e,responsiveOptions:i,keys:r,docWidth:t})}function r(e){return i(e).columns}function n(e){return i(e).margin}function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=r(e),o=n(e).x,a=100/i;if(!t)return a;if(1===i)return"100%";var s="px";if("string"==typeof o){var l=parseFloat(o);s=o.replace(l,""),o=l}return o=(i-1)*o/i,"%"===s?a-o+"%":"calc("+a+"% - "+o+s+")"}function a(e,t){var i,a=r(e.options),s=0,l=void 0;if(1==++t)return 0;var c="px";if("string"==typeof(l=n(e.options).x)){var u=parseFloat(l,10);c=l.replace(u,""),l=u}return i=(l-(a-1)*l/a)*(t-1),s+=o(e.options,!1)*(t-1),"%"===c?s+i+"%":"calc("+s+"% + "+i+c+")"}function s(e){var t=0,i=e.container,r=e.rows;d(r,(function(e){t=e>t?e:t})),i.style.height=t+"px"}function l(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=r(e.options),l=n(e.options).y;S(e,a,i),d(t,(function(t){var i=0,r=parseInt(t.offsetHeight,10);isNaN(r)||(e.rows.forEach((function(t,r){t<e.rows[i]&&(i=r)})),t.style.position="absolute",t.style.top=e.rows[i]+"px",t.style.left=""+e.cols[i],e.rows[i]+=isNaN(r)?0:r+l,o&&(t.dataset.macyComplete=1))})),o&&(e.tmpRows=null),s(e)}function c(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=r(e.options),l=n(e.options).y;S(e,a,i),d(t,(function(t){e.lastcol===a&&(e.lastcol=0);var i=T(t,"height");i=parseInt(t.offsetHeight,10),isNaN(i)||(t.style.position="absolute",t.style.top=e.rows[e.lastcol]+"px",t.style.left=""+e.cols[e.lastcol],e.rows[e.lastcol]+=isNaN(i)?0:i+l,e.lastcol+=1,o&&(t.dataset.macyComplete=1))})),o&&(e.tmpRows=null),s(e)}var u=function e(t,i){if(!(this instanceof e))return new e(t,i);if(t&&t.nodeName)return t;if(t=t.replace(/^\s*/,"").replace(/\s*$/,""),i)return this.byCss(t,i);for(var r in this.selectors)if(i=r.split("/"),new RegExp(i[1],i[2]).test(t))return this.selectors[r](t);return this.byCss(t)};u.prototype.byCss=function(e,t){return(t||document).querySelectorAll(e)},u.prototype.selectors={},u.prototype.selectors[/^\.[\w\-]+$/]=function(e){return document.getElementsByClassName(e.substring(1))},u.prototype.selectors[/^\w+$/]=function(e){return document.getElementsByTagName(e)},u.prototype.selectors[/^\#[\w\-]+$/]=function(e){return document.getElementById(e.substring(1))};var d=function(e,t){for(var i=e.length,r=i;i--;)t(e[r-i-1])},p=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.running=!1,this.events=[],this.add(e)};p.prototype.run=function(){if(!this.running&&this.events.length>0){var e=this.events.shift();this.running=!0,e(),this.running=!1,this.run()}},p.prototype.add=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!t&&(Array.isArray(t)?d(t,(function(t){return e.add(t)})):(this.events.push(t),void this.run()))},p.prototype.clear=function(){this.events=[]};var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.instance=e,this.data=t,this},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.events={},this.instance=e};h.prototype.on=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||!t)&&(Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t))},h.prototype.emit=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!Array.isArray(this.events[e]))return!1;var i=new m(this.instance,t);d(this.events[e],(function(e){return e(i)}))};var f=function(e){return!("naturalHeight"in e&&e.naturalHeight+e.naturalWidth===0)||e.width+e.height!==0},y=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(e,i){if(t.complete)return f(t)?e(t):i(t);t.addEventListener("load",(function(){return f(t)?e(t):i(t)})),t.addEventListener("error",(function(){return i(t)}))})).then((function(t){i&&e.emit(e.constants.EVENT_IMAGE_LOAD,{img:t})})).catch((function(t){return e.emit(e.constants.EVENT_IMAGE_ERROR,{img:t})}))},g=function(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(i,(function(e){return y(t,e,r)}))},v=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Promise.all(g(e,t,i)).then((function(){e.emit(e.constants.EVENT_IMAGE_COMPLETE)}))},w=function(e){return function(e,t){var i=void 0;return function(){i&&clearTimeout(i),i=setTimeout(e,t)}}((function(){e.emit(e.constants.EVENT_RESIZE),e.queue.add((function(){return e.recalculate(!0,!0)}))}),100)},b=function(e){(function(e){if(e.container=u(e.options.container),e.container instanceof u||!e.container)return!!e.options.debug&&console.error("Error: Container not found");e.container.length&&(e.container=e.container[0]),e.options.container=e.container,e.container.style.position="relative"})(e),function(e){e.queue=new p,e.events=new h(e),e.rows=[],e.resizer=w(e)}(e),function(e){var i=u("img",e.container);window.addEventListener("resize",e.resizer),e.on(e.constants.EVENT_IMAGE_LOAD,(function(){return e.recalculate(!1,!1)})),e.on(e.constants.EVENT_IMAGE_COMPLETE,(function(){return e.recalculate(!0,!0)})),e.options.useOwnImageLoader||t(e,i,!e.options.waitForImages),e.emit(e.constants.EVENT_INITIALIZED)}(e)},E=function(e){return e===Object(e)&&"[object Array]"!==Object.prototype.toString.call(e)},A=function(e,t){E(e)||(t.columns=e),E(e)&&e.columns&&(t.columns=e.columns),E(e)&&e.margin&&!E(e.margin)&&(t.margin={x:e.margin,y:e.margin}),E(e)&&e.margin&&E(e.margin)&&e.margin.x&&(t.margin.x=e.margin.x),E(e)&&e.margin&&E(e.margin)&&e.margin.y&&(t.margin.y=e.margin.y)},T=function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},S=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.lastcol||(e.lastcol=0),e.rows.length<1&&(i=!0),i){e.rows=[],e.cols=[],e.lastcol=0;for(var r=t-1;r>=0;r--)e.rows[r]=0,e.cols[r]=a(e,r)}else if(e.tmpRows)for(e.rows=[],r=t-1;r>=0;r--)e.rows[r]=e.tmpRows[r];else for(e.tmpRows=[],r=t-1;r>=0;r--)e.tmpRows[r]=e.rows[r]},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t?e.container.children:u(':scope > *:not([data-macy-complete="1"])',e.container);r=Array.from(r).filter((function(e){return null!==e.offsetParent}));var n=o(e.options);return d(r,(function(e){t&&(e.dataset.macyComplete=0),e.style.width=n})),e.options.trueOrder?(c(e,r,t,i),e.emit(e.constants.EVENT_RECALCULATED)):(l(e,r,t,i),e.emit(e.constants.EVENT_RECALCULATED))},O=function(){return!!window.Promise},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};Array.from||(Array.from=function(e){for(var t=0,i=[];t<e.length;)i.push(e[t++]);return i});var M={columns:4,margin:2,trueOrder:!1,waitForImages:!1,useImageLoader:!0,breakAt:{},useOwnImageLoader:!1,onInit:!1,cancelLegacy:!1,useContainerForBreakpoints:!1};!function(){try{document.createElement("a").querySelector(":scope *")}catch(e){!function(){function e(e){return function(i){if(i&&t.test(i)){var r=this.getAttribute("id");r||(this.id="q"+Math.floor(9e6*Math.random())+1e6),arguments[0]=i.replace(t,"#"+this.id);var n=e.apply(this,arguments);return null===r?this.removeAttribute("id"):r||(this.id=r),n}return e.apply(this,arguments)}}var t=/:scope\b/gi,i=e(Element.prototype.querySelector);Element.prototype.querySelector=function(e){return i.apply(this,arguments)};var r=e(Element.prototype.querySelectorAll);Element.prototype.querySelectorAll=function(e){return r.apply(this,arguments)}}()}}();var L=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;if(!(this instanceof e))return new e(t);this.options={},x(this.options,M,t),this.options.cancelLegacy&&!O()||b(this)};return L.init=function(e){return console.warn("Depreciated: Macy.init will be removed in v3.0.0 opt to use Macy directly like so Macy({ /*options here*/ }) "),new L(e)},L.prototype.recalculateOnImageLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t(this,u("img",this.container),!e)},L.prototype.runOnImageLoad=function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=u("img",this.container);return this.on(this.constants.EVENT_IMAGE_COMPLETE,e),i&&this.on(this.constants.EVENT_IMAGE_LOAD,e),t(this,r,i)},L.prototype.recalculate=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i&&this.queue.clear(),this.queue.add((function(){return _(e,t,i)}))},L.prototype.remove=function(){window.removeEventListener("resize",this.resizer),d(this.container.children,(function(e){e.removeAttribute("data-macy-complete"),e.removeAttribute("style")})),this.container.removeAttribute("style")},L.prototype.reInit=function(){this.recalculate(!0,!0),this.emit(this.constants.EVENT_INITIALIZED),window.addEventListener("resize",this.resizer),this.container.style.position="relative"},L.prototype.on=function(e,t){this.events.on(e,t)},L.prototype.emit=function(e,t){this.events.emit(e,t)},L.constants={EVENT_INITIALIZED:"macy.initialized",EVENT_RECALCULATED:"macy.recalculated",EVENT_IMAGE_LOAD:"macy.image.load",EVENT_IMAGE_ERROR:"macy.image.error",EVENT_IMAGE_COMPLETE:"macy.images.complete",EVENT_RESIZE:"macy.resize"},L.prototype.constants=L.constants,L}()},,,,,,,function(e,t,i){e.exports=i(19)},function(e,t,i){},,,,,function(e,t,i){"use strict";i.r(t);i(14);var r=i(0),n=window,o=n.setUserSetting,a=n.getUserSetting,s=function(e){return e.extend({saveContentMode:function(){if("browse"===this.get("router")){var e=this.frame.content.mode(),t=this.frame.router.get();if("unsplash"!==e&&t&&t.get(e)&&o("libraryContent",e),!this.get("isUnsplash")){var i=this.attributes.id,n=this.get("library"),a=n.props.attributes.type;!Object(r.c)(i)||n&&a&&!Object(r.d)(a)||o("libraryContentWithUnsplash",e)}}},activate:function(){if(this.syncSelection(),wp.Uploader.queue.on("add",this.uploading,this),this.get("selection").on("add remove reset",this.refreshContent,this),this.get("router")&&this.get("contentUserSetting")){this.frame.on("content:activate",this.saveContentMode,this);var e=this.attributes.id,t=this.get("library"),i=this.get("isUnsplash"),n=t.props.attributes.type;i?this.set("content","unsplash"):!Object(r.c)(e)||t&&n&&!Object(r.d)(n)?this.set("content",a("libraryContent",this.get("content"))):this.set("content",a("libraryContentWithUnsplash",this.get("content")))}}})},l=i(4),c=i.n(l),u=wp.media.view.Button.extend({click:function(e){var t=arguments,i=this;"#"===this.attributes.href&&e.preventDefault();var n=this.controller.state(),o=n.get("selection"),a=o.some((function(e){return Object(r.e)(e)}));if(a){var s=this.views.parent.views.parent,l=s.get("button-spinner");this.$el.attr("disabled",!0),l.show(),Object(r.b)(o).then((function(){i.$el.attr("disabled",!1),l.hide(),i.options.click&&!i.model.get("disabled")&&i.options.click.apply(i,t)})).catch((function(e){if(i.$el.attr("disabled",!1),l.hide(),e&&e.responseJSON&&e.responseJSON.message){var t=c.a.sanitize(e.responseJSON.message,{ALLOWED_TAGS:[]});console.error(t),alert(t)}else{var n=c.a.sanitize(Object(r.a)("errors").generic,{ALLOWED_TAGS:[]});console.error(n),alert(n)}}))}else this.options.click.apply(this,arguments)}}),d=function(e){return e.extend({className:"attachment-details unsplash-attachment-details",template:wp.template("unsplash-attachment-details")})},p=d(wp.media.view.Attachment.Details),m=wp.media.view.AttachmentsBrowser.extend({className:"unsplash-browser attachments-browser",initialize:function(){var e=this;wp.media.view.AttachmentsBrowser.prototype.initialize.apply(this,arguments),this.controller.on("open content:activate:unsplash",this.focusInput,this),this.collection.on("attachments:received remove",(function(){return e.attachments.recalculateLayout()})),this.collection.on("add remove reset attachments:received",this.showError,this)},createToolbar:function(){var e=Object(r.a)("toolbar");this.toolbar=new wp.media.view.Toolbar({controller:this.controller}),this.views.add(this.toolbar),this.toolbar.set("searchLabel",new wp.media.view.Label({value:e.filters.search.label,className:"unsplash-search-input-label",attributes:{for:"media-search-input"},priority:50}).render()),this.searchFilter=new wp.media.view.Search({controller:this.controller,model:this.collection.props,priority:60,className:"unsplash-search",id:"unsplash-search-input",attributes:{type:"search",placeholder:e.filters.search.placeholder,autofocus:!0}}),this.toolbar.set("searchFilter",this.searchFilter.render()),this.toolbar.set("spinner",new wp.media.view.Spinner({priority:55}))},createSingle:function(){wp.media.view.AttachmentsBrowser.prototype.createSingle.apply(this,arguments);var e=this.sidebar,t=this.options.selection.single();e.set("details",new p({controller:this.controller,model:t,priority:80,allowLocalEdits:!0}))},createAttachments:function(){var e=Object(r.a)("noResults");this.attachments=new g({controller:this.controller,collection:this.collection,selection:this.options.selection,model:this.model,sortable:this.options.sortable,scrollElement:this.options.scrollElement,idealColumnWidth:this.options.idealColumnWidth,refreshThreshold:9,AttachmentView:this.options.AttachmentView}),this.controller.on("attachment:keydown:arrow",_.bind(this.attachments.arrowEvent,this.attachments)),this.controller.on("attachment:details:shift-tab",_.bind(this.attachments.restoreFocus,this.attachments)),this.views.add(this.attachments),this.attachmentsNoResults=new wp.media.View({controller:this.controller,tagName:"div"}),this.attachmentsNoResults.$el.addClass("hidden no-media");var t=document.createElement("h2");t.textContent=e.noMedia,this.attachmentsNoResults.$el.append(t),this.views.add(this.attachmentsNoResults),this.attachmentsError=new wp.media.View({controller:this.controller,tagName:"div"}),this.attachmentsError.$el.addClass("hidden notice notice-error unsplash-error is-dismissible"),this.views.add(this.attachmentsError)},updateContent:function(){var e=this,t=e.attachmentsNoResults;this.collection.length?(t.$el.addClass("hidden"),t.$el.addClass("show"),e.toolbar.get("spinner").hide(),e.showError()):(this.toolbar.get("spinner").show(),this.dfd=this.collection.more().done((function(){e.collection.length?(t.$el.addClass("hidden"),t.$el.addClass("show")):t.$el.removeClass("hidden"),e.toolbar.get("spinner").hide(),e.showError()})))},showError:function(){var e=this.attachmentsError,t=this.toolbar;if(!this.collection.respSuccess()&&this.collection.respErrorMessage()){var i,r=this.collection.respErrorMessage();e.$el.html(c.a.sanitize(r.message)),[401,403].includes(null===(i=r.data)||void 0===i?void 0:i.status)&&(e.$el.removeClass("notice-error"),e.$el.addClass("notice-warning")),e.$el.removeClass("hidden"),t.$el.addClass("hidden")}},focusInput:function(){this.searchFilter&&this.searchFilter.$el&&!this.searchFilter.$el.val()&&this.searchFilter.$el.focus()}}),h=wp.media.view.Attachment.extend({className:"unsplash-attachment",tagName:"div",buttons:{check:!0},render:function(){var e=_.defaults(this.model.toJSON(),{orientation:"landscape",uploading:!1,type:"",subtype:"",icon:"",filename:"",caption:"",title:"",dateFormatted:"",width:"",height:"",compat:!1,alt:"",description:""},this.options);e.buttons=this.buttons,e.describe=this.controller.state().get("describe"),"image"===e.type&&(e.size=this.imageSize()),e.can={},e.nonces&&(e.can.remove=!!e.nonces.delete,e.can.save=!!e.nonces.update),this.controller.state().get("allowLocalEdits")&&(e.allowLocalEdits=!0),e.uploading&&!e.percent&&(e.percent=0),this.views.detach(),this.$el.html(this.template(e));var t=this.$el.find(".centered img");return 1===t.length&&e.size&&e.size.width&&e.size.height&&e.color&&(t[0].width=e.size.width,t[0].height=e.size.height,t[0].style.backgroundColor=e.color),this.$el.toggleClass("uploading",e.uploading),e.uploading?this.$bar=this.$(".media-progress-bar div"):delete this.$bar,this.updateSelect(),this.updateSave(),this.views.render(),this}}),f=i(6),y=i.n(f),g=wp.media.view.Attachments.extend({className:"attachments",tagName:"div",macy:null,ready:function(){this.setupMacy(),this.scroll()},setupMacy:function(){this.macy=y()({container:"#"+this.el.id,trueOrder:!0,waitForImages:!0,useContainerForBreakpoints:!0,margin:16,columns:3,breakAt:{992:3,768:2,600:1}})},setColumns:function(){var e,t=this.columns;this.columns=null===(e=this.macy)||void 0===e?void 0:e.rows.length,t&&t===this.columns||this.$el.closest(".media-frame-content").attr("data-columns",this.columns)},recalculateLayout:function(){this.macy&&(this.macy.recalculateOnImageLoad(!0),this.macy.recalculate())}}),v=wp.media.view.MediaFrame.Post.extend({createStates:function(){var e=this.options,t=wp.media.controller.Library,i=wp.media.view.l10n;this.states.add([new t({id:"insert",title:i.insertMediaTitle,priority:20,toolbar:"main-insert",filterable:"all",library:wp.media.query(e.library),multiple:!!e.multiple&&"reset",editable:!0,allowLocalEdits:!0,displaySettings:!0,displayUserSettings:!0}),new t({id:"gallery",title:i.createGalleryTitle,priority:40,toolbar:"main-gallery",filterable:"uploaded",multiple:"add",editable:!1,library:wp.media.query(_.defaults({type:"image"},e.library))}),new wp.media.controller.Embed({metadata:e.metadata}),new wp.media.controller.EditImage({model:e.editImage}),new wp.media.controller.GalleryEdit({library:e.selection,editing:e.editing,menu:"gallery"}),new wp.media.controller.GalleryAdd,new t({id:"playlist",title:i.createPlaylistTitle,priority:60,toolbar:"main-playlist",filterable:"uploaded",multiple:"add",editable:!1,library:wp.media.query(_.defaults({type:"audio"},e.library))}),new wp.media.controller.CollectionEdit({type:"audio",collectionType:"playlist",title:i.editPlaylistTitle,SettingsView:wp.media.view.Settings.Playlist,library:e.selection,editing:e.editing,menu:"playlist",dragInfoText:i.playlistDragInfo,dragInfo:!1}),new wp.media.controller.CollectionAdd({type:"audio",collectionType:"playlist",title:i.addToPlaylistTitle}),new t({id:"video-playlist",title:i.createVideoPlaylistTitle,priority:60,toolbar:"main-video-playlist",filterable:"uploaded",multiple:"add",editable:!1,library:wp.media.query(_.defaults({type:"video"},e.library))}),new wp.media.controller.CollectionEdit({type:"video",collectionType:"playlist",title:i.editVideoPlaylistTitle,SettingsView:wp.media.view.Settings.Playlist,library:e.selection,editing:e.editing,menu:"video-playlist",dragInfoText:i.videoPlaylistDragInfo,dragInfo:!1}),new wp.media.controller.CollectionAdd({type:"video",collectionType:"playlist",title:i.addToVideoPlaylistTitle})]),wp.media.view.settings.post.featuredImageId&&this.states.add(new wp.media.controller.FeaturedImage)}}),w=wp.media.view.Toolbar.extend({initialize:function(){var e=this.controller.state(),t=this.selection=e.get("selection"),i=this.library=e.get("library");this._views={},this.primary=new wp.media.view.PriorityList,this.secondary=new wp.media.view.PriorityList,this.primary.$el.addClass("media-toolbar-primary search-form"),this.secondary.$el.addClass("media-toolbar-secondary"),this.views.set([this.secondary,this.primary]),this.options.items&&w.prototype.set.apply(this,[this.options.items,{silent:!0}]),this.options.silent||this.render(),t&&t.on("add remove reset",this.refresh,this),i&&i.on("add remove reset",this.refresh,this)},set:function(e,t,i){return i=i||{},_.isObject(e)?_.each(e,(function(e,t){w.prototype.set.apply(this,[t,e,{silent:!0}])}),this):(t instanceof Backbone.View||(t.classes=["media-button-"+e].concat(t.classes||[]),t=new u(t).render()),t.controller=t.controller||this.controller,this._views[e]=t,this[t.options.priority<0?"secondary":"primary"].set(e,t,i)),i.silent||this.refresh(),this}}),b=w,E=wp.media.view.Toolbar.Select.extend({initialize:function(){var e=this.options,t=wp.media.view.l10n;_.bindAll(this,"clickSelect"),_.defaults(e,{event:"select",state:!1,reset:!0,close:!0,text:t.select,requires:{selection:!0}}),e.items=_.defaults(e.items||{},{select:{style:"primary",text:e.text,priority:80,click:this.clickSelect,requires:e.requires}}),b.prototype.initialize.apply(this,arguments)}}),A=i(3),T=function(e){return e.extend({createStates:function(){e.prototype.createStates.apply(this,arguments),this.states.add([new A.a])},browseRouter:function(t){e.prototype.browseRouter.apply(this,arguments);var i=this.state();if(Object(r.c)(i.id)){var n=this.options,o=n.library,a=n.mimeType;o&&o.type&&!Object(r.d)(o.type)||a&&!Object(r.d)(a)||t.set({unsplash:{text:Object(r.a)("tabTitle"),priority:60}})}},bindHandlers:function(){e.prototype.bindHandlers.apply(this,arguments),this.on("content:create:unsplash",this.unsplashContent,this)},unsplashContent:function(e){var t=this.state("unsplash"),i=this.state();e.view=new m({controller:this,AttachmentView:h,collection:t.get("library"),mode:t.get("mode"),selection:i.get("selection"),model:t,sortable:t.get("sortable"),search:t.get("searchable"),filters:t.get("filterable"),date:t.get("date"),display:t.has("display")?t.get("display"):t.get("displaySettings"),dragInfo:t.get("dragInfo"),idealColumnWidth:t.get("idealColumnWidth"),suggestedWidth:t.get("suggestedWidth"),suggestedHeight:t.get("suggestedHeight")})},createToolbar:function(e){e.view=new b({controller:this}),e.view.set("button-spinner",new wp.media.view.Spinner({priority:60}))},renderReplaceImageToolbar:function(){var e=this,t=e.lastState(),i=t&&t.id,r=new b({controller:this,items:{back:{text:wp.media.view.l10n.back,priority:80,click:function(){i?e.setState(i):e.close()}},replace:{style:"primary",text:wp.media.view.l10n.replace,priority:20,requires:{selection:!0},click:function(){var e=this.controller,t=e.state(),i=t.get("selection").single();e.close(),e.image.changeAttachment(i,t.display(i)),t.trigger("replace",e.image.toJSON()),e.setState(e.options.state),e.reset()}}}});r.set("button-spinner",new wp.media.view.Spinner({priority:10})),this.toolbar.set(r)},createSelectToolbar:function(e,t){(t=t||this.options.button||{}).controller=this,e.view=new E(t),e.view.set("button-spinner",new wp.media.view.Spinner({priority:60}))}})},S=wp.media.view.MediaFrame.Select,O=wp.media.controller.Library,x=wp.media.controller.EditImage,M=S.extend({className:"media-frame unsplash-media-frame",initialize:function(){S.prototype.initialize.apply(this,arguments),_.defaults(this.options,{selection:[],library:{},multiple:!1,state:"unsplash"}),this.createStates(),this.bindHandlers()},bindHandlers:function(){this.on("toolbar:create:select",this.createSelectToolbar,this),this.on("content:render:edit-image",this.editImageContent,this)},createStates:function(){var e=this.options;this.options.states||(O=s(O),x=s(x),this.states.add([new O({library:wp.media.query(e.library),multiple:e.multiple,title:Object(r.a)("tabTitle"),isUnsplash:!0,priority:20}),new x({model:e.editImage})]))}});wp.media&&wp.media.view&&wp.media.view.MediaFrame&&(wp.media.view.MediaFrame.Post&&(wp.media.view.MediaFrame.Post=T(v)),wp.media.view.MediaFrame.Unsplash||(wp.media.view.MediaFrame.Unsplash=T(M)),wp.media.view.MediaFrame.Select&&(wp.media.view.MediaFrame.Select=T(wp.media.view.MediaFrame.Select)),wp.media.view.MediaFrame.ImageDetails&&(wp.media.view.MediaFrame.ImageDetails=T(wp.media.view.MediaFrame.ImageDetails)),wp.media.view.Attachment&&wp.media.view.Attachment.Details&&(wp.media.view.Attachment.Details=d(wp.media.view.Attachment.Details))),wp.media&&wp.media.controller&&(wp.media.controller.Library&&(wp.media.controller.Library=s(wp.media.controller.Library)),wp.media.controller.FeaturedImage&&(wp.media.controller.FeaturedImage=s(wp.media.controller.FeaturedImage)))}]);